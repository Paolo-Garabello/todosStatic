import{a as S,t as M,d as Ie,c as Ne}from"../chunks/DRqn4246.js";import"../chunks/Diiz6kAI.js";import{a5 as z,W as K,a6 as ee,G as H,b as we,h as A,J as ue,m as b,K as xe,L as se,M as ne,N as Y,g as R,ae as Se,as as V,O as _e,d as he,P as $e,ai as me,at as Oe,au as Le,ah as Ce,av as De,f as Me,Z as Pe,i as Re,a3 as Be,B as ie,aw as Fe,ax as He,ay as qe,aa as Je,az as Ge,aA as Ve,I as ze,aB as Ke,E as Ue,aC as Ye,aD as We,am as Xe,a as ye,aE as Ze,aF as Qe,ao as je,n as B,aG as ea,aH as aa,aI as ra,an as ta,t as q,x as N,y as w,s as ge,u as sa,j as Q,aJ as na,w as x,v as pe,ar as ia,D as W}from"../chunks/xA_8GO3s.js";import{p as P,i as oa,a as J}from"../chunks/DtER2Yh3.js";import{c as la,o as fa}from"../chunks/eZSnKjzE.js";import{a as va,d as ae,b as da,s as re}from"../chunks/Ct43D7Hi.js";let oe=!1;function ke(){oe||(oe=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{var e;if(!a.defaultPrevented)for(const r of a.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function ca(a){var e=ee,r=H;z(null),K(null);try{return a()}finally{z(e),K(r)}}function ua(a,e,r,t=r){a.addEventListener(e,()=>ca(r));const s=a.__on_r;s?a.__on_r=()=>{s(),t(!0)}:a.__on_r=()=>t(!0),ke()}function _a(a,e){return e}function ha(a,e,r,t){for(var s=[],n=e.length,o=0;o<n;o++)Le(e[o].e,s,!0);var u=n>0&&s.length===0&&r!==null;if(u){var h=r.parentNode;Ce(h),h.append(r),t.clear(),C(a,e[0].prev,e[n-1].next)}De(s,()=>{for(var g=0;g<n;g++){var m=e[g];u||(t.delete(m.k),C(a,m.prev,m.next)),Me(m.e,!u)}})}function ma(a,e,r,t,s,n=null){var o=a,u={flags:e,items:new Map,first:null};A&&ue();var h=null,g=!1,m=Pe(()=>{var l=r();return Re(l)?l:l==null?[]:me(l)});we(()=>{var l=b(m),v=l.length;if(g&&v===0)return;g=v===0;let i=!1;if(A){var c=o.data===xe;c!==(v===0)&&(o=se(),ne(o),Y(!1),i=!0)}if(A){for(var f=null,p,k=0;k<v;k++){if(R.nodeType===8&&R.data===Se){o=R,i=!0,Y(!1);break}var d=l[k],_=t(d,k);p=Ee(R,u,f,null,d,_,k,s,e,r),u.items.set(_,p),f=p}v>0&&ne(se())}if(!A){var I=ee;ya(l,u,o,s,e,(I.f&V)!==0,t,r)}n!==null&&(v===0?h?_e(h):h=he(()=>n(o)):h!==null&&$e(h,()=>{h=null})),i&&Y(!0),b(m)}),A&&(o=R)}function ya(a,e,r,t,s,n,o,u){var h=a.length,g=e.items,m=e.first,l=m,v,i=null,c=[],f=[],p,k,d,_;for(_=0;_<h;_+=1){if(p=a[_],k=o(p,_),d=g.get(k),d===void 0){var I=l?l.e.nodes_start:r;i=Ee(I,e,i,i===null?e.first:i.next,p,k,_,t,s,u),g.set(k,i),c=[],f=[],l=i.next;continue}if(ga(d,p,_),d.e.f&V&&_e(d.e),d!==l){if(v!==void 0&&v.has(d)){if(c.length<f.length){var y=f[0],E;i=y.prev;var T=c[0],$=c[c.length-1];for(E=0;E<c.length;E+=1)le(c[E],y,r);for(E=0;E<f.length;E+=1)v.delete(f[E]);C(e,T.prev,$.next),C(e,i,T),C(e,$,y),l=y,i=$,_-=1,c=[],f=[]}else v.delete(d),le(d,l,r),C(e,d.prev,d.next),C(e,d,i===null?e.first:i.next),C(e,i,d),i=d;continue}for(c=[],f=[];l!==null&&l.k!==k;)(n||!(l.e.f&V))&&(v??(v=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue;d=l}c.push(d),i=d,l=d.next}if(l!==null||v!==void 0){for(var L=v===void 0?[]:me(v);l!==null;)(n||!(l.e.f&V))&&L.push(l),l=l.next;var Te=L.length;if(Te>0){var Ae=null;ha(e,L,Ae,g)}}H.first=e.first&&e.first.e,H.last=i&&i.e}function ga(a,e,r,t){Oe(a.v,e),a.i=r}function Ee(a,e,r,t,s,n,o,u,h,g){var m=(h&He)!==0,l=(h&qe)===0,v=m?l?Be(s):ie(s):s,i=h&Fe?ie(o):o,c={i,v,k:n,a:null,e:null,prev:r,next:t};try{return c.e=he(()=>u(a,v,i,g),A),c.e.prev=r&&r.e,c.e.next=t&&t.e,r===null?e.first=c:(r.next=c,r.e.next=c.e),t!==null&&(t.prev=c,t.e.prev=c.e),c}finally{}}function le(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,s=e?e.e.nodes_start:r,n=a.e.nodes_start;n!==t;){var o=Je(n);s.before(n),n=o}}function C(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function pa(a,e,r,t,s){var u;A&&ue();var n=(u=e.$$slots)==null?void 0:u[r],o=!1;n===!0&&(n=e.children,o=!0),n===void 0||n(a,o?()=>t:t)}function ka(a){if(A){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var t=a.value;U(a,"value",null),a.value=t}if(a.hasAttribute("checked")){var s=a.checked;U(a,"checked",null),a.checked=s}}};a.__on_r=r,Ge(r),ke()}}function U(a,e,r,t){var s=a.__attributes??(a.__attributes={});A&&(s[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Ve]=r),r==null?a.removeAttribute(e):typeof r!="string"&&Ea(a).includes(e)?a[e]=r:a.setAttribute(e,r))}var fe=new Map;function Ea(a){var e=fe.get(a.nodeName);if(e)return e;fe.set(a.nodeName,e=[]);for(var r,t=a,s=Element.prototype;s!==t;){r=Ke(t);for(var n in r)r[n].set&&e.push(n);t=ze(t)}return e}function te(a,e,r){var t=a.__className,s=ba(e);A&&a.className===s?a.__className=s:(t!==s||A&&a.className!==s)&&(e==null?a.removeAttribute("class"):a.className=s,a.__className=s)}function ba(a,e){return(a??"")+""}const Ta=()=>performance.now(),O={tick:a=>requestAnimationFrame(a),now:()=>Ta(),tasks:new Set};function be(){const a=O.now();O.tasks.forEach(e=>{e.c(a)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(be)}function Aa(a){let e;return O.tasks.size===0&&O.tick(be),{promise:new Promise(r=>{O.tasks.add(e={c:a,f:r})}),abort(){O.tasks.delete(e)}}}function G(a,e){a.dispatchEvent(new CustomEvent(e))}function Ia(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ve(a){const e={},r=a.split(";");for(const t of r){const[s,n]=t.split(":");if(!s||n===void 0)break;const o=Ia(s.trim());e[o]=n.trim()}return e}const Na=a=>a;function de(a,e,r,t){var s=(a&Ze)!==0,n=(a&ea)!==0,o=s&&n,u=(a&aa)!==0,h=o?"both":s?"in":"out",g,m=e.inert,l=e.style.overflow,v,i;function c(){var _=ee,I=H;z(null),K(null);try{return g??(g=r()(e,(t==null?void 0:t())??{},{direction:h}))}finally{z(_),K(I)}}var f={is_global:u,in(){var _;if(e.inert=m,!s){i==null||i.abort(),(_=i==null?void 0:i.reset)==null||_.call(i);return}n||v==null||v.abort(),G(e,"introstart"),v=j(e,c(),i,1,()=>{G(e,"introend"),v==null||v.abort(),v=g=void 0,e.style.overflow=l})},out(_){if(!n){_==null||_(),g=void 0;return}e.inert=!0,G(e,"outrostart"),i=j(e,c(),v,0,()=>{G(e,"outroend"),_==null||_()})},stop:()=>{v==null||v.abort(),i==null||i.abort()}},p=H;if((p.transitions??(p.transitions=[])).push(f),s&&va){var k=u;if(!k){for(var d=p.parent;d&&d.f&Ue;)for(;(d=d.parent)&&!(d.f&Ye););k=!d||(d.f&We)!==0}k&&Xe(()=>{ye(()=>f.in())})}}function j(a,e,r,t,s){var n=t===1;if(Qe(e)){var o,u=!1;return je(()=>{if(!u){var p=e({direction:n?"in":"out"});o=j(a,p,r,t,s)}}),{abort:()=>{u=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:B,deactivate:B,reset:B,t:()=>t};const{delay:h=0,css:g,tick:m,easing:l=Na}=e;var v=[];if(n&&r===void 0&&(m&&m(0,1),g)){var i=ve(g(0,1));v.push(i,i)}var c=()=>1-t,f=a.animate(v,{duration:h});return f.onfinish=()=>{var p=(r==null?void 0:r.t())??1-t;r==null||r.abort();var k=t-p,d=e.duration*Math.abs(k),_=[];if(d>0){var I=!1;if(g)for(var y=Math.ceil(d/16.666666666666668),E=0;E<=y;E+=1){var T=p+k*l(E/y),$=ve(g(T,1-T));_.push($),I||(I=$.overflow==="hidden")}I&&(a.style.overflow="hidden"),c=()=>{var L=f.currentTime;return p+k*l(L/d)},m&&Aa(()=>{if(f.playState!=="running")return!1;var L=c();return m(L,1-L),!0})}f=a.animate(_,{duration:d,fill:"forwards"}),f.onfinish=()=>{c=()=>t,m==null||m(t,1-t),s()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=B)},deactivate:()=>{s=B},reset:()=>{t===0&&(m==null||m(1,0))},t:()=>c()}}function wa(a,e,r=e){var t=ra();ua(a,"input",s=>{var n=s?a.defaultValue:a.value;if(n=X(a)?Z(n):n,r(n),t&&n!==(n=e())){var o=a.selectionStart,u=a.selectionEnd;a.value=n??"",u!==null&&(a.selectionStart=o,a.selectionEnd=Math.min(u,a.value.length))}}),(A&&a.defaultValue!==a.value||ye(e)==null&&a.value)&&r(X(a)?Z(a.value):a.value),ta(()=>{var s=e();X(a)&&s===Z(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function X(a){var e=a.type;return e==="number"||e==="range"}function Z(a){return a===""?null:+a}var xa=M('<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">'),Sa=M('<button class="material-icons-outlined icon svelte-1q5ep85"> </button>');function D(a,e){let r=P(e,"handler",8,()=>{}),t=P(e,"name",8),s=P(e,"color",8,"green");var n=Sa();da(u=>{var h=xa();S(u,h)}),n.__click=[function(...u){var h;(h=r())==null||h.apply(this,u)}];var o=N(n,!0);w(n),q(()=>{U(n,"style",`--color:${s()??""}`),re(o,t())}),S(a,n)}ae(["click"]);const $a=a=>a;function ce(a,{delay:e=0,duration:r=400,easing:t=$a}={}){const s=+getComputedStyle(a).opacity;return{delay:e,duration:r,easing:t,css:n=>`opacity: ${n*s}`}}var Oa=M("<div><!></div>");function F(a,e){let r=P(e,"last",8,!1);var t=Oa(),s=N(t);pa(s,e,"default",{}),w(t),q(()=>te(t,`cell ${(r()?"cell-last":"")??""} svelte-1cs9ibg`)),de(1,t,()=>ce,()=>({duration:700})),de(2,t,()=>ce,()=>({duration:350})),S(a,t)}const La=(a,e,r)=>{e()||r((r()+1)%3+1)};var Ca=M("<button> </button>");function Da(a,e){let r=P(e,"priority",15,3),t=P(e,"disabled",3,!1);const s=u=>({3:"ALTA",2:"MEDIA",1:"BASSA"})[u];var n=Ca();n.__click=[La,t,r];var o=N(n,!0);w(n),q((u,h)=>{te(n,`${u??""} svelte-10u7uny`),re(o,h)},[()=>t()?"DISABILITATP":s(r()),()=>s(r())]),S(a,n)}ae(["click"]);const Ma=(a,e,r)=>{document.getElementById(e().id).blur(),r("update")};var Pa=M('<input type="text" placeholder="Inserisci il nuovo ToDO">'),Ra=M("<!> <!> <!> <!> <!>",1);function Ba(a,e){ge(e,!0);const r=P(e,"todo",15),t=()=>{r(r().done=!r().done,!0),n("update")},s=la(),n=i=>{s("change",{type:i,id:r().id})};let o=r().priority;sa(()=>{r().priority!=o&&(o=r().priority,n("update"))});var u=Ra(),h=Q(u);F(h,{children:(i,c)=>{na();var f=Ie();q(()=>re(f,r().id)),S(i,f)},$$slots:{default:!0}});var g=x(h,2);F(g,{children:(i,c)=>{var f=Ne(),p=Q(f);{var k=_=>{D(_,{name:"circle",handler:t,color:"red"})},d=_=>{D(_,{name:"task_alt",handler:t})};oa(p,_=>{r().done?_(d,!1):_(k)})}S(i,f)},$$slots:{default:!0}});var m=x(g,2);F(m,{children:(i,c)=>{var f=Pa();ka(f),f.__change=[Ma,r,n],q(()=>{te(f,`todo-item-input-text ${(r().done?"text-done":"")??""} svelte-7w5jf6`),U(f,"id",r().id)}),wa(f,()=>r().task,p=>r(r().task=p,!0)),S(i,f)},$$slots:{default:!0}});var l=x(m,2);F(l,{children:(i,c)=>{Da(i,{get disabled(){return r().done},get priority(){return r().priority},set priority(f){r(r().priority=f,!0)}})},$$slots:{default:!0}});var v=x(l,2);F(v,{last:!0,children:(i,c)=>{D(i,{name:"delete_forever",handler:()=>n("delete"),color:"red"})},$$slots:{default:!0}}),S(a,u),pe()}ae(["change"]);var Fa=M('<h1 class="app-title svelte-1fu329a">Todos</h1> <div class="todo-list svelte-1fu329a"><div class="header svelte-1fu329a"><!></div> <div class="header svelte-1fu329a"><!></div> <div class="header svelte-1fu329a"><!></div> <div class="header svelte-1fu329a"><!></div> <div class="header header-last svelte-1fu329a"><!></div> <!></div>',1);function Ha(a,e){ge(e,!0);let r=ia(J([])),t=0;const s=async()=>{let y={id:++t,task:"",done:!1,priority:3};console.log("created + "+y),localStorage.setItem(`todo${y.id}`,JSON.stringify(y)),W(r,J([...b(r),y]))},n=async y=>{switch(y.detail.type){case"update":u(y.detail.id);break;case"delete":o(y.detail.id);break}},o=y=>{console.log("DELETE",y),W(r,J(b(r).filter(E=>E.id!=y))),localStorage.removeItem(`todo${y}`)},u=y=>{const E=b(r).filter(T=>T.id==y)[0];localStorage.setItem(`todo${y}`,JSON.stringify(E))};fa(async()=>{for(let y=0;y<localStorage.length;y++){const E=localStorage.key(y),T=+E.substring(4);T>=t&&(t=T);const $=JSON.parse(localStorage.getItem(E));$!=null&&b(r).push($)}W(r,J([...b(r)]))});var h=Fa(),g=x(Q(h),2),m=N(g),l=N(m);D(l,{name:"tag"}),w(m);var v=x(m,2),i=N(v);D(i,{name:"task_alt"}),w(v);var c=x(v,2),f=N(c);D(f,{name:"list"}),w(c);var p=x(c,2),k=N(p);D(k,{name:"schedule"}),w(p);var d=x(p,2),_=N(d);D(_,{name:"add_box",handler:s}),w(d);var I=x(d,2);ma(I,17,()=>b(r),_a,(y,E)=>{Ba(y,{get todo(){return b(r)[b(r).indexOf(b(E))]},set todo(T){b(r)[b(r).indexOf(b(E))]=T},$$events:{change:n}})}),w(g),S(a,h),pe()}var qa=M('<main class="svelte-my5v7o"><!></main>');function Ya(a){var e=qa(),r=N(e);Ha(r,{}),w(e),S(a,e)}export{Ya as component};
